<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="http://localhost:4000/HeirtombRedux/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/HeirtombRedux/" rel="alternate" type="text/html" /><updated>2020-08-12T23:31:30+01:00</updated><id>http://localhost:4000/HeirtombRedux/feed.xml</id><title type="html">Heirtomb Redux</title><subtitle>Documenting the redevelopment of our jam game, Heirtomb. New title pending!</subtitle><entry><title type="html">The Minimap Debacle</title><link href="http://localhost:4000/HeirtombRedux/2020/08/12/the-minimap-debacle.html" rel="alternate" type="text/html" title="The Minimap Debacle" /><published>2020-08-12T17:00:00+01:00</published><updated>2020-08-12T17:00:00+01:00</updated><id>http://localhost:4000/HeirtombRedux/2020/08/12/the-minimap-debacle</id><content type="html" xml:base="http://localhost:4000/HeirtombRedux/2020/08/12/the-minimap-debacle.html">&lt;p&gt;It is a very particular kind of pain that comes with deleting hours worth of work, even if you know it’s for the best.&lt;/p&gt;

&lt;p&gt;It’s a problem I have had to face in my day job as well. It’s not any more fun there. I can rationalise it as “making progress towards the correct solution”, but it still hurts to hit that delete key.&lt;/p&gt;

&lt;p&gt;After the Game States work was finished, the next thing I wanted to do was start working on the World Map. There are a few reasons for this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;It’s hard to implement anything else without a world to put it in!&lt;/li&gt;
  &lt;li&gt;Parts of the World Map work are examples of infrastructure that could be neglected early on, making it a big problem later on, like I talked about last time&lt;/li&gt;
  &lt;li&gt;It’s a good way to test some new debug tools!&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;details-box&quot;&gt;
        &lt;div class=&quot;details-box-title&quot;&gt;
          &lt;span class=&quot;caret&quot;&gt;Definition: Debug &lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;nested&quot;&gt;
          
&lt;p&gt;“Debug” is quite a strange word now I think about it. It was first used as a verb, so that “I need to debug this code” means “I need to remove the bugs from this code”. A “bug” here is a problem, error, or mistake.&lt;/p&gt;

&lt;p&gt;(I was saddened to learn that &lt;a href=&quot;https://www.computerworld.com/article/2515435/moth-in-the-machine--debugging-the-origins-of--bug-.html&quot;&gt;the moth story&lt;/a&gt; is not the first time the word was used in this context, but it does explain why the term caught on. It didn’t catch on, it was already a term in use.)&lt;/p&gt;

&lt;p&gt;The strange part for me is that the word is now also used as a noun. “Debug” refers to any additional information that may be added to a program to help the debugging process. Debug helps you debug. Thanks English, this is why noone likes you.&lt;/p&gt;


        &lt;/div&gt;
      &lt;/div&gt;

&lt;p&gt;A few days ago, Max told me that Unity provides a debugging tool called &lt;a href=&quot;https://docs.unity3d.com/Manual/GUIScriptingGuide.html&quot;&gt;IMGUI&lt;/a&gt;, which lets you very easily draw debug information on the screen. I was excited to hear about this, because I’ve used a very similar tool before, and know just how powerful it can be. One of the great things about it is that it lets you definitively separate out the debug related code, so it can be easily removed later. This is super useful, and in particular I was sure it would prevent the issue that caused me so much pain during the jam, where debug code got mixed up in the real stuff and accidentally took out what looked like 75% of the graphics.&lt;/p&gt;

&lt;p&gt;I started off by adding some debug to the GameStates I made last week:&lt;/p&gt;

&lt;div class=&quot;captioned_image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/MinimapDebacle/GameStateDebug-Optimise1.gif&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/MinimapDebacle/GameStateDebug-Optimise1.gif&quot; alt=&quot;An animated gif showing a little window where text shows the state of the game changing from MainMenu to Playing to Paused etc&quot; width=&quot;400&quot; /&gt;
    &lt;/a&gt;
    
      &lt;br /&gt;
      &lt;em&gt;I am never using print statements ever again&lt;/em&gt;
    
&lt;/div&gt;

&lt;p&gt;That this was so easy was a good sign to me! Now onto something more challenging.&lt;/p&gt;

&lt;p&gt;Like last time, the world map is going to be a grid of square shaped things which I will call “tiles”. Each tile can hold stuff in it, and before we have models to represent that stuff, we need another way of representing what the tiles contain. Last time, as I documented, I coloured the actual tiles themselves to show what was in them, and this caused huge problems later. This time, I hope to keep the debug functionality completely separate from the game functionality. If I can make a debug representation of the map, then I can colour the tiles in IMGUI to show what’s in them, and leave the actual map tile completely untouched.&lt;/p&gt;

&lt;p&gt;Now, a difference between last time and this time is that we’re considering having different elevations for our tiles. In order to show this on the IMGUI debug map, I was thinking that we would need full 3D perspective drawings of the map, so you could see the elevation of each tile.&lt;/p&gt;

&lt;div class=&quot;captioned_image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/MinimapDebacle/bar_chart.png&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/MinimapDebacle/bar_chart.png&quot; alt=&quot;A picture of a 3D excel bar chart, showing a grid of bars of different heights and colours&quot; width=&quot;600&quot; /&gt;
    &lt;/a&gt;
    
      &lt;br /&gt;
      &lt;em&gt;Maybe something like this, but not a goddamn excel scientific bar chart&lt;/em&gt;
    
&lt;/div&gt;

&lt;p&gt;This, I thought, would be &lt;em&gt;somewhat&lt;/em&gt; hard to do, but should be possible. I’ve seen something similar done before in something very like IMGUI, so how hard can it be? Oh, how we love foreshadowing and dramatic irony around here.&lt;/p&gt;

&lt;p&gt;First off, before I could realise my wildest technicoloured bar chart dreams, I had to start small. I had to be able to draw straight lines. I wasn’t entirely sure about how to go about this, but managed to find &lt;a href=&quot;https://gist.github.com/nsdevaraj/5877269&quot;&gt;an example&lt;/a&gt; of someone having done it before me. There was a lot of code here, but the main insight for me was how to draw a diagonal line. Imagine you had to draw a diagonal line on paper, and for some reason you can only draw horizontal lines. The easiest way to do this is to rotate the paper you’re drawing on, and then draw your horizontal line. When you turn the paper back to normal, the line ends up diagonal.&lt;/p&gt;

&lt;div class=&quot;details-box&quot;&gt;
        &lt;div class=&quot;details-box-title&quot;&gt;
          &lt;span class=&quot;caret&quot;&gt;Technical Details &lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;nested&quot;&gt;
          
&lt;p&gt;Lemme walk through the code for that here:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c#&quot; data-lang=&quot;c#&quot;&gt;&lt;span class=&quot;n&quot;&gt;Texture2D&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lineTex&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Texture2D&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
&lt;span class=&quot;n&quot;&gt;Matrix4x4&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrixBackup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Making a new texture for every line that gets drawn is horrible, but we can optimise that by creating one up front and using that for every line.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c#&quot; data-lang=&quot;c#&quot;&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;angle&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mathf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Atan2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pointB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;180f&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mathf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This represents the angle that we are going to rotate our horizontal line by, converted from radians into degrees.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c#&quot; data-lang=&quot;c#&quot;&gt;&lt;span class=&quot;n&quot;&gt;GUIUtility&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;RotateAroundPivot&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;angle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;GUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;DrawTexture&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pointA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lineTex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;GUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrixBackup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here, we do the rotation (what I called “rotating the paper” above), then draw a horizontal line of the predetermined width (8) and the precalculated length (not shown here). By restoring the backup matrix, we are essentially turning the paper back to normal again.&lt;/p&gt;

        &lt;/div&gt;
      &lt;/div&gt;

&lt;p&gt;This felt like quite a natural solution to me, so I tried it out. Well, it had some interesting results…&lt;/p&gt;

&lt;div class=&quot;captioned_image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/MinimapDebacle/RotationFail-Optimise1.gif&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/MinimapDebacle/RotationFail-Optimise1.gif&quot; alt=&quot;Shows a red line moving in completely different directions to where the map is being moved&quot; width=&quot;600&quot; /&gt;
    &lt;/a&gt;
    
      &lt;br /&gt;
      &lt;em&gt;The red line is vertical (as intended), but should be in the top left corner of the dark grey square&lt;/em&gt;
    
&lt;/div&gt;

&lt;p&gt;Drat. Well, this is what you get for ripping off someone else’s work wholesale.&lt;/p&gt;

&lt;p&gt;So I decided to start from scratch, making sure I understood every part of the process as I went. I learned a lot about different parts of the tools I am using, which was good, and managed to get individual points displaying very reliably. Walk before you can run and all that.&lt;/p&gt;

&lt;p&gt;I started working on the lines again, confident that I’d get it right this time, and the exact same thing happened! I did some further investigation, and discovered that something to do with how we were scaling up the GUI was causing the rotation to just happen around the wrong point. I tried every combination of scales and rotations and transformations I could think of, but nothing got it working. I went to bed that night having accomplished very little.&lt;/p&gt;

&lt;p&gt;The next evening (I’m only working on this in my spare time of course), I went back and tried every combination I could think of again, just in case I had typed one incorrectly or something. Finally I realised something. I was picking pivot points (the point on the screen that the horizontal line was being rotated around) almost at random, and then just hoping they would be in the right place. What I needed to do was reverse engineer the point, that is, make it so that the line was in the right place, and then see what point we’d rotated around. The way I worked out that would let me do this was to rotate around the mouse position on the screen. I could just move the mouse until the line was in the right place, then see where the mouse was!&lt;/p&gt;

&lt;p&gt;When I did this, I discovered that what I needed was… an incredibly simple scale. I don’t know how I missed it both times I went through all the combinations. Success was bittersweet.&lt;/p&gt;

&lt;p&gt;But it was success! Now I could start actually working on the perspective drawing!&lt;/p&gt;

&lt;p&gt;But then I noticed something… weird.&lt;/p&gt;

&lt;div class=&quot;image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/MinimapDebacle/ClippingIssues-Optimise1.gif&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/MinimapDebacle/ClippingIssues-Optimise1.gif&quot; alt=&quot;When the width of the window is reduced, the line disappears a little too early. When the height of the window is reduced, the line disappears much too late.&quot; width=&quot;600&quot; /&gt;
    &lt;/a&gt;
    
&lt;/div&gt;

&lt;p&gt;On the one hand, it’s great that the line I’m drawing is getting clipped. On the other, I wish it wasn’t getting clipped like &lt;em&gt;that&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;After a bit of research, it appears that this may be a bug in Unity itself that’s been around since 2013. Yeah that’s right, this is a call out post. Fix your shit, Unity. How do I @ on this thing.&lt;/p&gt;

&lt;p&gt;The issue is caused by using Unity’s clipping with Unity’s rotation, it seems like if I do either or both of these things myself then we’ll be fine. I try implementing my own clipping by drawing a massive texture over everything that’s inside the window that isn’t the map, but this absolutely destroys the frame rate, making it hard to work with. I’m getting frustrated at this point, and can’t be bothered to pursue this method.&lt;/p&gt;

&lt;p&gt;Ok, if I still want to do this, I need a way of drawing a diagonal line without rotation. There are ways, there are some very classic line drawing algorithms that make diagonal lines out of many small squares (like &lt;a href=&quot;https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm&quot;&gt;this one&lt;/a&gt;), but I worry that this will also tank the frame rate. I also worry that I don’t really want to do this anymore.&lt;/p&gt;

&lt;p&gt;If I’m struggling this hard on the absolute &lt;em&gt;basics&lt;/em&gt;, what’s it going to be like doing the actual thing I want to do which is about four thousand times more complicated? This doesn’t feel like game dev any more, not the kind I want to spend my free time doing anyway. Is there another way of doing what I want that doesn’t require me to sell my soul?&lt;/p&gt;

&lt;p&gt;Let’s go back to the core problem. Naively, the map is a grid of squares, except some of these squares can be higher than others, and I need a way of showing that. Well, on the debug these squares are going to be unbelievably simple, they’re just going to be a block colour, so I have space inside the square to put information. Like, I dunno, a number representing the elevation. That’s easy, that solves the problem in about 15 minutes, and doesn’t make me want to chuck my laptop in a lake.&lt;/p&gt;

&lt;div class=&quot;captioned_image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/MinimapDebacle/flat_grid.png&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/MinimapDebacle/flat_grid.png&quot; alt=&quot;A flat grid of ten by ten squares, each with the number 0 in it.&quot; width=&quot;400&quot; /&gt;
    &lt;/a&gt;
    
      &lt;br /&gt;
      &lt;em&gt;Job's a good'un&lt;/em&gt;
    
&lt;/div&gt;

&lt;p&gt;Right, well that was a huge waste of time.&lt;/p&gt;

&lt;p&gt;Although, as I alluded to during this, I don’t &lt;em&gt;really&lt;/em&gt; think it was. I did learn lots about Unity’s IMGUI that will make stuff easier going forward, and learned what sort of things to avoid doing. I think I’ve also learned that I need to give up sooner. Not in a defeatist kind of way, but more in a “is this really the only/best way to go about this?” kind of way. The important thing, I think, is to keep the momentum going on the game itself, rather than getting too bogged down in extraneous stuff. A good lesson to learn this early I believe!&lt;/p&gt;

&lt;p&gt;Next time, hopefully I’ll have finished off the World Map initial implementation!&lt;/p&gt;</content><author><name></name></author><summary type="html">It is a very particular kind of pain that comes with deleting hours worth of work, even if you know it’s for the best.</summary></entry><entry><title type="html">Game States</title><link href="http://localhost:4000/HeirtombRedux/2020/08/03/game-states.html" rel="alternate" type="text/html" title="Game States" /><published>2020-08-03T17:00:00+01:00</published><updated>2020-08-03T17:00:00+01:00</updated><id>http://localhost:4000/HeirtombRedux/2020/08/03/game-states</id><content type="html" xml:base="http://localhost:4000/HeirtombRedux/2020/08/03/game-states.html">&lt;p&gt;I’m an infrastructure nerd at heart. I just love getting stuck into some abstract system that has very little reference to the material world. It’s the niche that I’ve found at work in my day job, and it’s what I decided to start with here.&lt;/p&gt;

&lt;p&gt;Now let’s be clear, I didn’t start with this kind of stuff &lt;em&gt;just&lt;/em&gt; because it’s my favourite! I also did it because it’s something that in the past, we’ve tended to forget, and push back, and neglect until suddenly it’s a massive problem and necessitates lots of awkward changes to account for.&lt;/p&gt;

&lt;p&gt;During the jam, we started by implementing the basic game mechanics: the world grid, the entities, the player moving around the world, etc. This was all fine until towards the end of the time, when we realised that “uh-oh! If you get a game over you need to restart! And we don’t have any easy way to do that!” So it all ended up being rushed, desperately trying to make sure that everything got deleted and recreated, so nothing was hanging over from your last attempt. Well, we’re not having that this time, because I’m implementing the game state machine &lt;em&gt;first&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;First, the jargon. What do I mean by “game state machine”? Well, a “state machine” is a computer science term that refers to a sort of abstract “machine” that can transition between various “states”.&lt;/p&gt;

&lt;p&gt;(Look mom, I’m using my degree!)&lt;/p&gt;

&lt;p&gt;You can imagine it a bit like a flow chart. Actually, it’s exactly like a flow chart. Why didn’t my lecturers just describe it like a flow chart? Lousy, good for nothing degree.&lt;/p&gt;

&lt;p&gt;If you’re still not sure what I’m on about, this is best explained with an example. Let me show you what I was aiming for for this particular game:&lt;/p&gt;

&lt;div class=&quot;image&quot;&gt;
    &lt;a href=&quot;/HeirtombRedux/assets/images/GameStates/initial_game_state_machine.png&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;
      &lt;img src=&quot;/HeirtombRedux/assets/images/GameStates/initial_game_state_machine.png&quot; alt=&quot;A flowchart with labeled arrows between labeled boxes&quot; width=&quot;600&quot; /&gt;
    &lt;/a&gt;
    
&lt;/div&gt;

&lt;p&gt;Here, the boxes represent “states” that our game can be in, and the arrows represent how you transition between those states, with the labels describing the action. So to move between the “Playing the game” state and the “Pause Menu” state, the player has to “Pause”, and to move back, the player has to “Unpause”.&lt;/p&gt;

&lt;p&gt;The “Start” state just tells you where to start reading from. A few things to note:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;There are plenty of loops in this flowchart! This is by design, players can go round and round these states as much as they need. They can pause and unpause as often as they like, fail and start over to their hearts’ content.&lt;/li&gt;
  &lt;li&gt;Most state machines (especially those used for pattern matching etc) will have an “output” or “final” state. We don’t need that here, since players can just quit the game at any time, and there’s no point linking every single state to some extra “Game Closed” state&lt;/li&gt;
  &lt;li&gt;The transition between “Start” and “Main Menu” has no label. This is just to show that there’s no specific action the player needs to take to get to the Main Menu, they just click on the icon and they’re straight in.&lt;/li&gt;
  &lt;li&gt;This is pretty general! Given how much trouble we’ve had with this in the past, this may be a candidate for some utility code that we can just reuse whenever we start a new project.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As with all these kinds of things, I’m not instructing you on how you &lt;em&gt;should&lt;/em&gt; be doing this sort of thing, just explaining how I’m choosing to do it, and hopefully explaining why it made sense to me. Leave a comment if you have a better suggestion. That was a joke, there’s no comment section on this thing. Not yet anyway… Hey, you can always tweet at me if you have a burning desire to tell me I’m an idiot. I’m sure I’d love to hear from you.&lt;/p&gt;

&lt;p&gt;But geneuinely, if you want to see more detail, see some actual code, or want me to change anything about how I’m doing these, please do let me know! Links to social things are at the bottom of every page.&lt;/p&gt;</content><author><name></name></author><summary type="html">I’m an infrastructure nerd at heart. I just love getting stuck into some abstract system that has very little reference to the material world. It’s the niche that I’ve found at work in my day job, and it’s what I decided to start with here.</summary></entry><entry><title type="html">New Beginnings</title><link href="http://localhost:4000/HeirtombRedux/first_post" rel="alternate" type="text/html" title="New Beginnings" /><published>2020-08-02T14:00:00+01:00</published><updated>2020-08-02T14:00:00+01:00</updated><id>http://localhost:4000/HeirtombRedux/new-beginnings</id><content type="html" xml:base="http://localhost:4000/HeirtombRedux/first_post">&lt;p&gt;“Why are we starting again”, you ask? Well let me tell you.&lt;/p&gt;

&lt;p&gt;When you’re in a game jam, there’s often very little time to plan, and very little time to actually write the code. All around, just not a lot of time to work with. This means three things,&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;You are planning with the short timescale in mind, which may mean you have to leave out or simplify interesting stuff&lt;/li&gt;
  &lt;li&gt;The plans you make may not be as well thought out as they could be&lt;/li&gt;
  &lt;li&gt;The code will probably end up being quite messy&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;All of these are reasons why now, with the pressure off, we want to start from scratch. We have the time to do whatever we want now, which means we don’t have to simplify things. We don’t have to make sure that everything we want to do can be done in 48 hours! Also, we have the time to really properly design this game. Last time, we added enemies because they were the first thing we could think of that might threaten the tree that the player needs to protect. But do they actually support the theme that we’re aiming for? For that matter, is having the player protecting a tree the best expression of our theme to begin with? We’ve now had the time to think really intensely about what we want to do, and we’re trying to throw out all the assumptions that we made in order to get to the core of what we want to say.&lt;/p&gt;

&lt;p&gt;And finally, we have the time to make sure the code is better. As the deadline of a jam gets closer, you tend to have less and less time to care about whether you’re implementing things in the best way. What does this mean in practice? When we’re writing code, we generally try to make sure that it has certain useful properties. Some examples of ideals we try to aim for are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Code should be easily understandable
    &lt;ul&gt;
      &lt;li&gt;It is often said that a programmer’s time is mostly spent reading code rather than writing it. This means that code that is hard to read can waste a lot of time. Equally, making sure that the code you right now will make sense in six months takes time too. But as they say, “a stitch in time saves nine”, and “an ounce of prevention is better than a pound of cure”! It is generally better to save time in the future, rather than now&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Code should be flexible
    &lt;ul&gt;
      &lt;li&gt;Above I said that programmers read more code than they write, well it’s equally true that programmers probably spend more time rewriting old code than writing new code! With that in mind, we should try to make code as easy to change as possible. There are many different strategies designed with this in mind, and different ones are more appropriate in different situations. Most, if not all, of them require time spent planning them and then time spent implementing them to make sure that they are effective&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A lot of the code that we ended up writing during the jam was neither easy to understand, nor particularly flexible. We intend to use whatever parts of the original code we can salvage, but on the whole we’ll be taking the lessons we learned during the jam, and simply doing it better this time.&lt;/p&gt;

&lt;p&gt;Of course, any changes to the design will also require new or different code, so we may not even be able to reuse all the good bits. So which parts of the design have we actually changed? Well, I don’t want to spoil too many details of the experience we’re aiming for, since a lot of it will be about interpreting what’s in front of you as it happens. Rest assured I’ll expand on details as and when I need to.&lt;/p&gt;

&lt;p&gt;I’m really looking forward to getting to work on this again, and also to be writing this dev log! This is the first time I’ve tried anything like this in earnest, so this will be something of a learning process for me too. Hopefully Max will be able to chip in occasionally with updates from his side of the process too. I hope you enjoy what we have to offer!&lt;/p&gt;</content><author><name></name></author><summary type="html">“Why are we starting again”, you ask? Well let me tell you.</summary></entry></feed>